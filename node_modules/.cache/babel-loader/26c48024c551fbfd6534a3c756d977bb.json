{"ast":null,"code":"var _jsxFileName = \"/Users/iMac27/dev/reigate-delivers-app/src/components/Cards.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Cookies from 'universal-cookie';\nimport { MapPin, Clock, AlertCircle } from 'react-feather';\nimport { getDeliveryRange, isURL, isEmail, formatPhone } from './Helpers';\nimport { useData } from '../context/DataProvider';\nimport { ButtonPrimary } from './Buttons';\nexport const CookieNotice = () => {\n  const [hasCookie, setHasCookie] = useState();\n  const cookies = new Cookies();\n  useEffect(() => {\n    const cookie = cookies.get('gaAccept');\n    setHasCookie(cookie);\n  }, []);\n\n  const setCookieAccept = () => {\n    cookies.set('gaAccept', true);\n    setHasCookie(true);\n  };\n\n  return /*#__PURE__*/React.createElement(StyledCookieBarWrap, {\n    visible: !hasCookie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StyledCard, {\n    base: \"var(--base)\",\n    align: \"center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(StyledCookieBarInner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, \"\\uD83C\\uDF6A\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 11\n    }\n  }, \"This website uses cookies to give you a better experience.\")), /*#__PURE__*/React.createElement(ButtonPrimary, {\n    onClick: setCookieAccept,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Accept\")));\n};\nexport const CalloutCard = ({\n  children,\n  ...rest\n}) => {\n  return /*#__PURE__*/React.createElement(StyledCard, Object.assign({\n    base: \"var(--base)\",\n    align: \"center\"\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(StyledCalloutCardInner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, children));\n};\n\nconst LocationCardAccordion = ({\n  title,\n  children\n}) => {\n  const [isAccordionOpen, setIsAccordionOpen] = useState(false);\n  return /*#__PURE__*/React.createElement(StyledAccordionWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StyledAccordionTitle, {\n    onClick: () => setIsAccordionOpen(!isAccordionOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Clock, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 18\n    }\n  }, title)), /*#__PURE__*/React.createElement(StyledAccordionBody, {\n    isOpen: isAccordionOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }\n  }, children));\n};\n\nconst LocationCardPropList = ({\n  children\n}) => {\n  return /*#__PURE__*/React.createElement(StyledCardList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, children);\n};\n\nexport const LocationCard = ({\n  details,\n  children,\n  ...rest\n}) => {\n  const {\n    cover,\n    name,\n    website,\n    phone,\n    file,\n    address,\n    deliveryHours,\n    safetyTips,\n    email\n  } = details;\n  const {\n    postModalContent\n  } = useData();\n  return /*#__PURE__*/React.createElement(StyledCard, Object.assign({\n    base: \"#fff\"\n  }, rest, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(StyledCardImageWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: cover,\n    alt: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(StyledCardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, children), /*#__PURE__*/React.createElement(LocationCardPropList, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, address && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(MapPin, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 35\n    }\n  }, address)), deliveryHours && deliveryHours.length > 0 && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 55\n    }\n  }, /*#__PURE__*/React.createElement(LocationCardAccordion, {\n    title: getDeliveryRange(deliveryHours),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, deliveryHours.map(time => /*#__PURE__*/React.createElement(\"small\", {\n    key: time,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 40\n    }\n  }, time)))), safetyTips && /*#__PURE__*/React.createElement(\"li\", {\n    onClick: () => postModalContent(safetyTips),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(AlertCircle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 73\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 88\n    }\n  }, \"Safety tips\"))), /*#__PURE__*/React.createElement(StyledCardLinks, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, website && isURL(website) && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 39\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardLinkItem, {\n    href: `${website}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 43\n    }\n  }, \"\\uD83D\\uDD17 Order online\")), email && isEmail(email) && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardLinkItem, {\n    href: `mailto:${email}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 41\n    }\n  }, \"\\u2709\\uFE0F Email us\")), phone && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardLinkItem, {\n    href: `tel://${phone.replace(/\\s/g, '')}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 23\n    }\n  }, `ğŸ¤™ Call ${formatPhone(phone)}`)), file && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 18\n    }\n  }, /*#__PURE__*/React.createElement(StyledCardLinkItem, {\n    href: `/uploads/${file}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 22\n    }\n  }, \"\\uD83D\\uDCC3 Download PDF\"))));\n};\nconst StyledCard = styled.article`\n  display:flex;\n  justify-content:${props => props.align || \"flex-start\"};\n  align-items:${props => props.align || \"flex-start\"};\n  flex-flow:column nowrap;\n  background-color:${props => props.base || \"#FFF\"};\n  border-radius:0.5rem;\n  box-shadow:0 1rem 2rem rgba(0,0,0,0.08);\n  height:100%;\n\n  > * {\n    width:100%;\n    margin-bottom:var(--spacing-sm);\n  }\n`;\nconst StyledCardImageWrap = styled.picture`\n  display:block;\n  width:100%;\n  height:200px;\n  overflow:hidden;\n  border-top-left-radius:0.5rem;\n  border-top-right-radius:0.5rem;\n\n  img {\n    object-fit:cover;\n    width:100%;\n    height:100%;\n  }\n`;\nconst StyledCardBody = styled.div`\n  display:flex;\n  justify-content:flex-start;\n  align-items:flex-start;\n  flex-flow:column nowrap;\n  padding:0 var(--spacing-sm);\n\n  > * {\n    width:100%;\n    margin:0 0 .85rem 0;\n  }\n\n  small {\n    text-transform:uppercase;\n    font-weight:700;\n    color:var(--text-low);\n  }\n\n  p {\n    max-width:30ch;\n    margin-bottom:0;\n  }\n`;\nconst StyledCardLinks = styled.ul`\n  display:block;\n  padding:0 var(--spacing-sm);\n`;\nconst StyledCardLinkItem = styled.a`\n  display:block;\n  border-top:1px solid var(--base-light);\n  padding:var(--spacing-xs) 0;\n  text-decoration:none;\n  transition:all .2s ease;\n\n  &:hover {\n    text-decoration:underline;\n    transition:all .2s ease;\n  }\n`;\nconst StyledCardList = styled.ul`\n  display:block;\n  padding:0 var(--spacing-xs);\n\n  li {\n    display:flex;\n    justify-content:flex-start;\n    align-items:center;\n    padding-bottom:var(--spacing-sm);\n    color:var(--text-med);\n\n\n    &:last-of-type {\n      padding-bottom:0;\n      cursor:pointer;\n\n      &:hover {\n        text-decoration:underline;\n      }\n    }\n    p {\n      flex:1;\n      padding-left:var(--spacing-xs);\n    }\n  }\n`;\nconst StyledAccordionWrap = styled.div`\n  display:block;\n`;\nconst StyledAccordionTitle = styled.div`\n  display:flex;\n  justify-content:flex-start;\n  align-items:center;\n  color:var(--text-med);\n  cursor:pointer;\n  text-decoration:none;\n\n  &:hover {\n    text-decoration:underline;\n  }\n`;\nconst StyledAccordionBody = styled.div`\n  will-change:max-height, overflow;\n  max-height:${props => props.isOpen ? '200px' : '0'};\n  overflow: ${props => props.isOpen ? 'auto' : 'hidden'};\n  transition: all .2s ease;\n\n  small {\n    padding-top:1rem;\n    padding-left:2.5rem;\n    color:var(--text-low);\n  }\n`;\nconst StyledCalloutCardInner = styled.div`\n  padding:var(--spacing-md) 0;\n  text-align:center;\n\n  h2 {\n    color:var(--text-high-white);\n  }\n  p {\n    color:var(--text-med-white);\n    max-width:45ch;\n    margin-left:auto;\n    margin-right:auto;\n  }\n`;\nconst StyledCookieBarWrap = styled.div`\n  position:fixed;\n  bottom:var(--spacing-sm);\n  left:0;\n  right:0;\n  padding:0 var(--spacing-sm);\n  margin:0 auto;\n  z-index:998;\n  opacity:${props => props.visible ? 1 : 0};\n  pointer-events:${props => props.visible ? 'auto' : 'none'};\n\n  article{\n    max-width:780px;\n    margin:0 auto;\n    padding:var(--spacing-sm);\n\n    @media(min-width:48rem) {\n      display:flex;\n      justify-content:space-between;\n      align-items:center;\n      flex-flow:row nowrap;\n      padding:0 var(--spacing-sm);\n    }\n  }\n  button {\n    flex:0;\n    margin:0;\n  }\n`;\nconst StyledCookieBarInner = styled.div`\n  display:flex;\n  justify-content:flex-start;\n  align-items:center;\n  padding:var(--spacing-sm) 0;\n  margin:0;\n\n  p {\n    color:var(--text-high-white);\n    padding-left:var(--spacing-xs);\n    margin:0;\n  }\n  a {\n    color:var(--text-high-white);\n  }\n`;","map":{"version":3,"sources":["/Users/iMac27/dev/reigate-delivers-app/src/components/Cards.js"],"names":["React","useState","useEffect","styled","Cookies","MapPin","Clock","AlertCircle","getDeliveryRange","isURL","isEmail","formatPhone","useData","ButtonPrimary","CookieNotice","hasCookie","setHasCookie","cookies","cookie","get","setCookieAccept","set","CalloutCard","children","rest","LocationCardAccordion","title","isAccordionOpen","setIsAccordionOpen","LocationCardPropList","LocationCard","details","cover","name","website","phone","file","address","deliveryHours","safetyTips","email","postModalContent","length","map","time","replace","StyledCard","article","props","align","base","StyledCardImageWrap","picture","StyledCardBody","div","StyledCardLinks","ul","StyledCardLinkItem","a","StyledCardList","StyledAccordionWrap","StyledAccordionTitle","StyledAccordionBody","isOpen","StyledCalloutCardInner","StyledCookieBarWrap","visible","StyledCookieBarInner"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport Cookies from 'universal-cookie';\nimport { MapPin, Clock, AlertCircle } from 'react-feather';\nimport { getDeliveryRange, isURL, isEmail, formatPhone } from './Helpers';\nimport { useData } from '../context/DataProvider';\nimport { ButtonPrimary } from './Buttons';\n\nexport const CookieNotice = () => {\n  const [hasCookie, setHasCookie] = useState();\n  const cookies = new Cookies();\n\n  useEffect(() => {\n    const cookie = cookies.get('gaAccept');\n    setHasCookie(cookie);\n  }, []);\n\n  const setCookieAccept = () => {\n    cookies.set('gaAccept', true);\n    setHasCookie(true);\n  }\n\n  return(\n    <StyledCookieBarWrap visible={!hasCookie}>\n      <StyledCard base=\"var(--base)\" align=\"center\">\n        <StyledCookieBarInner>\n          <span>ğŸª</span>\n          <p>This website uses cookies to give you a better experience.</p>\n        </StyledCookieBarInner>\n      <ButtonPrimary onClick={setCookieAccept}>Accept</ButtonPrimary>\n      </StyledCard>\n    </StyledCookieBarWrap>\n  )\n}\n\nexport const CalloutCard = ({ children, ...rest }) => {\n  return (\n    <StyledCard base=\"var(--base)\" align=\"center\" {...rest}>\n      <StyledCalloutCardInner>\n        {children}\n      </StyledCalloutCardInner>\n    </StyledCard>\n  )\n}\n\nconst LocationCardAccordion = ({ title, children }) => {\n  const [isAccordionOpen, setIsAccordionOpen] = useState(false);\n  return (\n    <StyledAccordionWrap>\n      <StyledAccordionTitle onClick={() => setIsAccordionOpen(!isAccordionOpen)}>\n        <Clock /><p>{title}</p>\n      </StyledAccordionTitle>\n      <StyledAccordionBody isOpen={isAccordionOpen}>\n        {children}\n      </StyledAccordionBody>\n    </StyledAccordionWrap>\n  )\n}\n\nconst LocationCardPropList = ({ children }) => {\n  return (\n    <StyledCardList>\n      {children}\n    </StyledCardList>\n  )\n}\n\nexport const LocationCard = ({ details, children, ...rest }) => {\n  const { cover, name, website, phone, file, address, deliveryHours, safetyTips, email } = details;\n  const { postModalContent } = useData();\n  return (\n    <StyledCard base=\"#fff\" {...rest}>\n      <StyledCardImageWrap>\n        <img src={cover} alt={name} />\n      </StyledCardImageWrap>\n      <StyledCardBody>\n        {children}\n      </StyledCardBody>\n      <LocationCardPropList>\n        {address && <li><MapPin /><p>{address}</p></li>}\n        {deliveryHours && deliveryHours.length > 0 && <li>\n          <LocationCardAccordion title={getDeliveryRange(deliveryHours)}>\n            {deliveryHours.map(time => <small key={time}>{time}</small>)}\n          </LocationCardAccordion>\n        </li>}\n        {safetyTips && <li onClick={() => postModalContent(safetyTips)}><AlertCircle /><p>Safety tips</p></li>}\n      </LocationCardPropList>\n      <StyledCardLinks>\n        {website && isURL(website) && <li><StyledCardLinkItem href={`${website}`}>ğŸ”— Order online</StyledCardLinkItem></li>}\n        {email && isEmail(email) && <li><StyledCardLinkItem href={`mailto:${email}`}>âœ‰ï¸ Email us</StyledCardLinkItem></li>}\n        {phone && <li><StyledCardLinkItem href={`tel://${phone.replace(/\\s/g, '')}`}>{`ğŸ¤™ Call ${formatPhone(phone)}`}</StyledCardLinkItem></li>}\n        {file && <li><StyledCardLinkItem href={`/uploads/${file}`}>ğŸ“ƒ Download PDF</StyledCardLinkItem></li>}\n      </StyledCardLinks>\n    </StyledCard>\n  )\n}\n\nconst StyledCard = styled.article`\n  display:flex;\n  justify-content:${props => props.align || \"flex-start\"};\n  align-items:${props => props.align || \"flex-start\"};\n  flex-flow:column nowrap;\n  background-color:${props => props.base || \"#FFF\"};\n  border-radius:0.5rem;\n  box-shadow:0 1rem 2rem rgba(0,0,0,0.08);\n  height:100%;\n\n  > * {\n    width:100%;\n    margin-bottom:var(--spacing-sm);\n  }\n`;\nconst StyledCardImageWrap = styled.picture`\n  display:block;\n  width:100%;\n  height:200px;\n  overflow:hidden;\n  border-top-left-radius:0.5rem;\n  border-top-right-radius:0.5rem;\n\n  img {\n    object-fit:cover;\n    width:100%;\n    height:100%;\n  }\n`;\nconst StyledCardBody = styled.div`\n  display:flex;\n  justify-content:flex-start;\n  align-items:flex-start;\n  flex-flow:column nowrap;\n  padding:0 var(--spacing-sm);\n\n  > * {\n    width:100%;\n    margin:0 0 .85rem 0;\n  }\n\n  small {\n    text-transform:uppercase;\n    font-weight:700;\n    color:var(--text-low);\n  }\n\n  p {\n    max-width:30ch;\n    margin-bottom:0;\n  }\n`\nconst StyledCardLinks = styled.ul`\n  display:block;\n  padding:0 var(--spacing-sm);\n`\nconst StyledCardLinkItem = styled.a`\n  display:block;\n  border-top:1px solid var(--base-light);\n  padding:var(--spacing-xs) 0;\n  text-decoration:none;\n  transition:all .2s ease;\n\n  &:hover {\n    text-decoration:underline;\n    transition:all .2s ease;\n  }\n`\nconst StyledCardList = styled.ul`\n  display:block;\n  padding:0 var(--spacing-xs);\n\n  li {\n    display:flex;\n    justify-content:flex-start;\n    align-items:center;\n    padding-bottom:var(--spacing-sm);\n    color:var(--text-med);\n\n\n    &:last-of-type {\n      padding-bottom:0;\n      cursor:pointer;\n\n      &:hover {\n        text-decoration:underline;\n      }\n    }\n    p {\n      flex:1;\n      padding-left:var(--spacing-xs);\n    }\n  }\n`\nconst StyledAccordionWrap = styled.div`\n  display:block;\n`\nconst StyledAccordionTitle = styled.div`\n  display:flex;\n  justify-content:flex-start;\n  align-items:center;\n  color:var(--text-med);\n  cursor:pointer;\n  text-decoration:none;\n\n  &:hover {\n    text-decoration:underline;\n  }\n`\nconst StyledAccordionBody = styled.div`\n  will-change:max-height, overflow;\n  max-height:${props => props.isOpen ? '200px' : '0'};\n  overflow: ${ props => props.isOpen ? 'auto' : 'hidden'};\n  transition: all .2s ease;\n\n  small {\n    padding-top:1rem;\n    padding-left:2.5rem;\n    color:var(--text-low);\n  }\n`\nconst StyledCalloutCardInner = styled.div`\n  padding:var(--spacing-md) 0;\n  text-align:center;\n\n  h2 {\n    color:var(--text-high-white);\n  }\n  p {\n    color:var(--text-med-white);\n    max-width:45ch;\n    margin-left:auto;\n    margin-right:auto;\n  }\n`\n\nconst StyledCookieBarWrap = styled.div`\n  position:fixed;\n  bottom:var(--spacing-sm);\n  left:0;\n  right:0;\n  padding:0 var(--spacing-sm);\n  margin:0 auto;\n  z-index:998;\n  opacity:${props => props.visible ? 1 : 0};\n  pointer-events:${props => props.visible ? 'auto' : 'none'};\n\n  article{\n    max-width:780px;\n    margin:0 auto;\n    padding:var(--spacing-sm);\n\n    @media(min-width:48rem) {\n      display:flex;\n      justify-content:space-between;\n      align-items:center;\n      flex-flow:row nowrap;\n      padding:0 var(--spacing-sm);\n    }\n  }\n  button {\n    flex:0;\n    margin:0;\n  }\n`;\nconst StyledCookieBarInner = styled.div`\n  display:flex;\n  justify-content:flex-start;\n  align-items:center;\n  padding:var(--spacing-sm) 0;\n  margin:0;\n\n  p {\n    color:var(--text-high-white);\n    padding-left:var(--spacing-xs);\n    margin:0;\n  }\n  a {\n    color:var(--text-high-white);\n  }\n`;\n"]},"metadata":{},"sourceType":"module"}