{"ast":null,"code":"var _jsxFileName = \"/Users/iMac27/dev/uk-delivers-app/src/components/Locations.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useData } from '../context/DataProvider';\nimport { LocationCard } from './Cards';\nimport { Grid, Container } from './Layout';\nimport fuzzyFilterFactory, { onChangeInputValue } from \"react-fuzzy-filter\";\nimport styled from 'styled-components';\nimport { Search } from 'react-feather';\nimport { ButtonSecondary } from './Buttons';\nimport { LoadingSpinner } from './Helpers'; // Fuse\n\nconst {\n  InputFilter,\n  FilterResults\n} = fuzzyFilterFactory();\nconst fuseConfig = {\n  keys: [\"name\", \"tags\"],\n  threshold: 0.3\n};\nexport const LocationSearch = () => {\n  return /*#__PURE__*/React.createElement(StyledInputWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(InputFilter, {\n    debounceTime: 200,\n    placeholder: \"What are you looking for\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }\n  }));\n};\nexport const LocationList = () => {\n  const {\n    locations,\n    getLocations\n  } = useData();\n  const [locationLimit, setLocationLimit] = useState(9); // Grabs JSON data from provider\n\n  useEffect(() => {\n    getLocations();\n  }, []); // Check if data exists\n\n  if (locations.length < 1) {\n    return /*#__PURE__*/React.createElement(LoadingSpinner, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    style: {\n      marginTop: '-6rem',\n      paddingBottom: '5rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FilterResults, {\n    items: locations,\n    fuseConfig: fuseConfig,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, filteredItems => {\n    return /*#__PURE__*/React.createElement(Grid, {\n      cols: \"3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, filteredItems.slice(0, locationLimit).map(location => {\n      const {\n        cover,\n        name,\n        description,\n        tags,\n        address,\n        website,\n        phone,\n        file,\n        deliveryHours\n      } = location;\n      return /*#__PURE__*/React.createElement(LocationCard, {\n        key: name,\n        details: location,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }\n      }, name), /*#__PURE__*/React.createElement(\"small\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, tags.map((tag, i) => {\n        return i + 1 === tags.length ? /*#__PURE__*/React.createElement(\"span\", {\n          key: tag,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 85\n          }\n        }, tag) : /*#__PURE__*/React.createElement(\"span\", {\n          key: tag,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 116\n          }\n        }, tag, \" \\u2022 \");\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, description));\n    }));\n  }), locations.length > locationLimit ? /*#__PURE__*/React.createElement(ButtonSecondary, {\n    onClick: () => setLocationLimit(locationLimit + 9),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 43\n    }\n  }, \"Load More\") : null);\n};\nconst StyledInputWrap = styled.div`\n  position:relative;\n  display:block;\n  max-width:420px;  \n  margin:var(--spacing-sm) 0;\n  color:#d8d8d8;\n\n  svg {\n    position:absolute;\n    top:1rem;\n    left:1rem;\n  }\n  input {\n    display:block;\n    width:100%;\n    padding:var(--spacing-xs);\n    padding-left:3rem;\n    border-radius:0.25rem;\n    background-color:#fff;\n    border:1px solid var(--base-light);\n    box-shadow:0 0.5rem 1rem rgba(0,0,0,0.08);\n    font-size:1rem;\n    font-family:var(--font-stack);\n    color:var(--text-med);\n  }\n`;","map":{"version":3,"sources":["/Users/iMac27/dev/uk-delivers-app/src/components/Locations.js"],"names":["React","useEffect","useState","useData","LocationCard","Grid","Container","fuzzyFilterFactory","onChangeInputValue","styled","Search","ButtonSecondary","LoadingSpinner","InputFilter","FilterResults","fuseConfig","keys","threshold","LocationSearch","LocationList","locations","getLocations","locationLimit","setLocationLimit","length","marginTop","paddingBottom","filteredItems","slice","map","location","cover","name","description","tags","address","website","phone","file","deliveryHours","tag","i","StyledInputWrap","div"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useData } from '../context/DataProvider';\nimport { LocationCard } from './Cards';\nimport { Grid, Container } from './Layout';\nimport fuzzyFilterFactory, { onChangeInputValue } from \"react-fuzzy-filter\";\nimport styled from 'styled-components';\nimport { Search } from 'react-feather';\nimport { ButtonSecondary } from './Buttons';\nimport { LoadingSpinner } from './Helpers';\n\n// Fuse\nconst { InputFilter, FilterResults } = fuzzyFilterFactory();\nconst fuseConfig = {\n  keys: [\"name\", \"tags\"],\n  threshold: 0.3\n};\n\nexport const LocationSearch = () => {\n  return (\n    <StyledInputWrap>\n      <Search />\n      <InputFilter debounceTime={200} placeholder=\"What are you looking for\" />\n    </StyledInputWrap>\n  )\n\n}\n\nexport const LocationList = () => {\n  const { locations, getLocations } = useData();\n  const [locationLimit, setLocationLimit] = useState(9);\n\n  // Grabs JSON data from provider\n  useEffect(() => {\n    getLocations();\n  }, []);\n\n  // Check if data exists\n  if (locations.length < 1) {\n    return <LoadingSpinner />\n  }\n\n  return (\n    <Container style={{ marginTop: '-6rem', paddingBottom: '5rem' }}>\n      <FilterResults items={locations} fuseConfig={fuseConfig}>\n        {filteredItems => {\n          return (\n            <Grid cols=\"3\">\n              {filteredItems.slice(0, locationLimit).map(location => {\n                const { cover, name, description, tags, address, website, phone, file, deliveryHours } = location\n                return (\n                  <LocationCard key={name} details={location}>\n                    <h4>{name}</h4>\n                    <small>{tags.map((tag, i) => { return (i + 1) === tags.length ? <span key={tag}>{tag}</span> : <span key={tag}>{tag} â€¢ </span> })}</small>\n                    <p>{description}</p>\n                  </LocationCard>\n                )\n              })}\n            </Grid>\n          )\n        }\n        }\n      </FilterResults>\n      {locations.length > locationLimit ? <ButtonSecondary onClick={() => setLocationLimit(locationLimit + 9)}>Load More</ButtonSecondary> : null}\n    </Container>\n  )\n}\n\nconst StyledInputWrap = styled.div`\n  position:relative;\n  display:block;\n  max-width:420px;  \n  margin:var(--spacing-sm) 0;\n  color:#d8d8d8;\n\n  svg {\n    position:absolute;\n    top:1rem;\n    left:1rem;\n  }\n  input {\n    display:block;\n    width:100%;\n    padding:var(--spacing-xs);\n    padding-left:3rem;\n    border-radius:0.25rem;\n    background-color:#fff;\n    border:1px solid var(--base-light);\n    box-shadow:0 0.5rem 1rem rgba(0,0,0,0.08);\n    font-size:1rem;\n    font-family:var(--font-stack);\n    color:var(--text-med);\n  }\n`"]},"metadata":{},"sourceType":"module"}