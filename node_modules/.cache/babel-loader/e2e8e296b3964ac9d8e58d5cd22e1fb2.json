{"ast":null,"code":"var _jsxFileName = \"/Users/iMac27/dev/reigate-delivers-app/src/components/Forms.js\";\nimport React, { useRef, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport { ButtonPrimary } from './Buttons';\nexport const CustomForm = ({\n  status,\n  message,\n  onValidated\n}) => {\n  const email = useRef();\n  const [buttonLabel, setButtonLabel] = useState('Signup');\n  const [inputVal, setInputVal] = useState('');\n  useEffect(() => {\n    if (status === \"sending\") {\n      setButtonLabel('Sending...');\n    } else if (status === 'error') {\n      toast.error(message);\n      setButtonLabel('Signup');\n    } else if (status === 'success') {\n      toast.success(message);\n      setButtonLabel('Signup');\n    } else {\n      return;\n    }\n  }, [status]);\n\n  const validateEmail = email => {\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  };\n\n  const submit = () => {\n    inputVal && onValidated({\n      EMAIL: email.current.value\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(StyledForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(StyledInputWrap, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    ref: email,\n    value: inputVal,\n    type: \"email\",\n    placeholder: \"Your email address\",\n    onChange: e => {\n      setInputVal(e.target.value);\n    },\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ButtonPrimary, {\n    onClick: submit,\n    className: inputVal.length < 1 && 'disabled',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, buttonLabel)), /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, \"You can unsubscribe from these communications at anytime. We won't spam you. For more information on how to unsubscribe, our privacy practices, and how we are committed to protecting and respecting your privacy, please review our Privacy Policy.\"));\n};\nconst StyledForm = styled.div`\n  display:block;\n  margin:0 auto;\n  text-align:center;\n  padding:0 var(--spacing-sm);\n\n  small {\n    max-width:480px;\n    margin:0 auto;\n    color:var(--text-low-white);\n  }\n`;\nconst StyledInputWrap = styled.div`\n  position:relative;\n  display:block;\n  justify-content:flex-start;\n  align-items:center;\n  max-width:420px;  \n  margin:var(--spacing-sm) auto;\n  color:#d8d8d8;\n\n  @media(min-width:48rem){\n    display:flex;\n  }\n\n  button {    \n    width:100%;\n    font-size:1.125rem;\n    line-height:1.25;        \n    margin:var(--spacing-xs) 0;\n\n    @media(min-width:48rem){   \n      flex:0 0 30%;   \n      width:auto;\n      border-top-left-radius:0;\n      border-bottom-left-radius:0;\n      margin:0;\n    }\n  }\n  input {\n    display:block;\n    width:100%;\n    flex:1;\n    padding:var(--spacing-xs);\n    border-radius:0.25rem;    \n    background-color:#fff;\n    border:1px solid var(--base-light);\n    box-shadow:0 0.5rem 1rem rgba(0,0,0,0.08);\n    font-size:1rem;\n    line-height:1;\n    font-family:var(--font-stack);\n    color:var(--text-med);\n\n    &:focus {\n      outline:0;\n      box-shadow:0 0 0 4px rgba(255,255,255,0.2) ,0 0.5rem 1rem rgba(0,0,0,0.08);\n    }\n\n    @media(min-width:48rem){\n      border-top-right-radius:0;\n      border-bottom-right-radius:0;\n\n      &:focus {\n        outline:0;      \n        box-shadow:0 0.5rem 1rem rgba(0,0,0,0.08);  \n      }\n    }\n  }\n`;","map":{"version":3,"sources":["/Users/iMac27/dev/reigate-delivers-app/src/components/Forms.js"],"names":["React","useRef","useEffect","useState","styled","toast","ButtonPrimary","CustomForm","status","message","onValidated","email","buttonLabel","setButtonLabel","inputVal","setInputVal","error","success","validateEmail","re","test","String","toLowerCase","submit","EMAIL","current","value","e","target","length","StyledForm","div","StyledInputWrap"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,aAAT,QAA8B,WAA9B;AAEA,OAAO,MAAMC,UAAU,GAAG,CAAC;AAAEC,EAAAA,MAAF;AAAUC,EAAAA,OAAV;AAAmBC,EAAAA;AAAnB,CAAD,KAAsC;AAC9D,QAAMC,KAAK,GAAGV,MAAM,EAApB;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,QAAD,CAA9C;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,MAAM,KAAK,SAAf,EAA0B;AACxBK,MAAAA,cAAc,CAAC,YAAD,CAAd;AACD,KAFD,MAEO,IAAIL,MAAM,KAAK,OAAf,EAAwB;AAC7BH,MAAAA,KAAK,CAACW,KAAN,CAAYP,OAAZ;AACAI,MAAAA,cAAc,CAAC,QAAD,CAAd;AACD,KAHM,MAGA,IAAIL,MAAM,KAAK,SAAf,EAA0B;AAC/BH,MAAAA,KAAK,CAACY,OAAN,CAAcR,OAAd;AACAI,MAAAA,cAAc,CAAC,QAAD,CAAd;AACD,KAHM,MAGA;AACL;AACD;AACF,GAZQ,EAYN,CAACL,MAAD,CAZM,CAAT;;AAcA,QAAMU,aAAa,GAAIP,KAAD,IAAW;AAC/B,QAAIQ,EAAE,GAAG,yJAAT;AACA,WAAOA,EAAE,CAACC,IAAH,CAAQC,MAAM,CAACV,KAAD,CAAN,CAAcW,WAAd,EAAR,CAAP;AACD,GAHD;;AAKA,QAAMC,MAAM,GAAG,MAAM;AACnBT,IAAAA,QAAQ,IACNJ,WAAW,CAAC;AACVc,MAAAA,KAAK,EAAEb,KAAK,CAACc,OAAN,CAAcC;AADX,KAAD,CADb;AAID,GALD;;AASA,sBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,GAAG,EAAEf,KAAZ;AAAmB,IAAA,KAAK,EAAEG,QAA1B;AAAoC,IAAA,IAAI,EAAC,OAAzC;AAAiD,IAAA,WAAW,EAAC,oBAA7D;AAAkF,IAAA,QAAQ,EAAGa,CAAD,IAAO;AAAEZ,MAAAA,WAAW,CAACY,CAAC,CAACC,MAAF,CAASF,KAAV,CAAX;AAA6B,KAAlI;AAAoI,IAAA,QAAQ,MAA5I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,aAAD;AAAe,IAAA,OAAO,EAAEH,MAAxB;AAAgC,IAAA,SAAS,EAAET,QAAQ,CAACe,MAAT,GAAkB,CAAlB,IAAuB,UAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA+EjB,WAA/E,CAFF,CADF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6PALF,CADF;AASD,CA1CM;AA4CP,MAAMkB,UAAU,GAAG1B,MAAM,CAAC2B,GAAI;;;;;;;;;;;CAA9B;AAcA,MAAMC,eAAe,GAAG5B,MAAM,CAAC2B,GAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CAAnC","sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { toast } from 'react-toastify';\nimport { ButtonPrimary } from './Buttons';\n\nexport const CustomForm = ({ status, message, onValidated }) => {\n  const email = useRef();\n  const [buttonLabel, setButtonLabel] = useState('Signup');\n  const [inputVal, setInputVal] = useState('');\n\n  useEffect(() => {\n    if (status === \"sending\") {\n      setButtonLabel('Sending...');\n    } else if (status === 'error') {\n      toast.error(message);\n      setButtonLabel('Signup');\n    } else if (status === 'success') {\n      toast.success(message);\n      setButtonLabel('Signup');\n    } else {\n      return\n    }\n  }, [status])\n\n  const validateEmail = (email) => {\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  }\n\n  const submit = () => {\n    inputVal &&\n      onValidated({\n        EMAIL: email.current.value,\n      });\n  }\n\n\n\n  return (\n    <StyledForm>\n      <StyledInputWrap>\n        <input ref={email} value={inputVal} type=\"email\" placeholder=\"Your email address\" onChange={(e) => { setInputVal(e.target.value) }} required />\n        <ButtonPrimary onClick={submit} className={inputVal.length < 1 && 'disabled'}>{buttonLabel}</ButtonPrimary>\n      </StyledInputWrap>\n      <small>You can unsubscribe from these communications at anytime. We won't spam you. For more information on how to unsubscribe, our privacy practices, and how we are committed to protecting and respecting your privacy, please review our Privacy Policy.</small>\n    </StyledForm>\n  )\n}\n\nconst StyledForm = styled.div`\n  display:block;\n  margin:0 auto;\n  text-align:center;\n  padding:0 var(--spacing-sm);\n\n  small {\n    max-width:480px;\n    margin:0 auto;\n    color:var(--text-low-white);\n  }\n`\n\n\nconst StyledInputWrap = styled.div`\n  position:relative;\n  display:block;\n  justify-content:flex-start;\n  align-items:center;\n  max-width:420px;  \n  margin:var(--spacing-sm) auto;\n  color:#d8d8d8;\n\n  @media(min-width:48rem){\n    display:flex;\n  }\n\n  button {    \n    width:100%;\n    font-size:1.125rem;\n    line-height:1.25;        \n    margin:var(--spacing-xs) 0;\n\n    @media(min-width:48rem){   \n      flex:0 0 30%;   \n      width:auto;\n      border-top-left-radius:0;\n      border-bottom-left-radius:0;\n      margin:0;\n    }\n  }\n  input {\n    display:block;\n    width:100%;\n    flex:1;\n    padding:var(--spacing-xs);\n    border-radius:0.25rem;    \n    background-color:#fff;\n    border:1px solid var(--base-light);\n    box-shadow:0 0.5rem 1rem rgba(0,0,0,0.08);\n    font-size:1rem;\n    line-height:1;\n    font-family:var(--font-stack);\n    color:var(--text-med);\n\n    &:focus {\n      outline:0;\n      box-shadow:0 0 0 4px rgba(255,255,255,0.2) ,0 0.5rem 1rem rgba(0,0,0,0.08);\n    }\n\n    @media(min-width:48rem){\n      border-top-right-radius:0;\n      border-bottom-right-radius:0;\n\n      &:focus {\n        outline:0;      \n        box-shadow:0 0.5rem 1rem rgba(0,0,0,0.08);  \n      }\n    }\n  }\n`"]},"metadata":{},"sourceType":"module"}